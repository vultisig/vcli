# Vultisig Local Development Cluster Configuration
#
# All services run as Docker containers by default.
# No local repository clones required!

# Service modes: "docker" (default) or "production" (use prod endpoints)
services:
  # Core infrastructure - always local via Docker
  postgres: docker
  redis: docker
  minio: docker

  # TSS coordination - use production relay
  relay: production

  # Fast Vault - use production vultiserver
  vultiserver: production

  # Verifier stack - runs in Docker
  verifier: docker
  verifier_worker: docker

  # DCA Plugin - runs in Docker
  dca_server: docker
  dca_worker: docker
  dca_scheduler: docker
  dca_tx_indexer: docker

# Production endpoints (used when service mode is "production")
endpoints:
  relay: https://api.vultisig.com/router
  vultiserver: https://api.vultisig.com

# Docker image configuration (optional - defaults to latest)
# Uncomment to pin specific versions
# images:
#   verifier: ghcr.io/vultisig/verifier/verifier:v0.1.14
#   verifier_worker: ghcr.io/vultisig/verifier/worker:v0.1.14
#   dca_server: ghcr.io/vultisig/app-recurring/server:v1.0.81
#   dca_worker: ghcr.io/vultisig/app-recurring/worker:v1.0.81
#   dca_scheduler: ghcr.io/vultisig/app-recurring/scheduler:v1.0.81
#   dca_tx_indexer: ghcr.io/vultisig/app-recurring/tx_indexer:v1.0.81

# Ports (for local services)
ports:
  verifier: 8080
  verifier_worker_metrics: 8089
  dca_server: 8082
  dca_worker_metrics: 8183
  dca_scheduler_metrics: 8185
  dca_tx_indexer_metrics: 8187
  vultiserver: 8081
  relay: 8090
  postgres: 5432
  redis: 6379
  minio: 9000
  minio_console: 9090
